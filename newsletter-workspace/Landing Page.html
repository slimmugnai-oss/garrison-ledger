<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="robots" content="noindex,nofollow">
<title>Thank you for voting!</title>
<style>
/* Base reset and variables */
:root { 
  --bg: #f6f7f9; 
  --card: #ffffff; 
  --text: #0f172a; 
  --muted: #475569; 
  --brand: #1e293b; 
  --accent: #0ea5e9;
  --ring: rgba(14,165,233,.15); 
}
@media (prefers-color-scheme: dark){
  :root { 
    --bg:#0f1115; 
    --card:#12151c; 
    --text:#e6e8ee; 
    --muted:#a1a6b3; 
    --ring: rgba(91,124,255,.25); 
  }
}
*{box-sizing:border-box} 
html,body{height:100%} 
body{
  margin:0; 
  font-family:-apple-system,Segoe UI,Roboto,Arial,sans-serif; 
  background:radial-gradient(1200px 600px at 10% -10%, #e9eeff 0%, transparent 40%), 
             radial-gradient(1000px 500px at 110% 10%, #f3f5ff 0%, transparent 35%), 
             var(--bg); 
  color:var(--text);
}
.container{max-width:720px; margin:min(8vh,64px) auto; padding:24px}
.card{
  background:var(--card); 
  border-radius:16px; 
  padding:32px 28px; 
  box-shadow:0 8px 30px rgba(2,6,23,.08), 0 1px 2px rgba(2,6,23,.06); 
  border:1px solid rgba(2,6,23,.06);
}
.header{display:flex; gap:16px; align-items:center; justify-content:center; margin-bottom:16px}
.icon-wrap{
  width:72px; 
  height:72px; 
  border-radius:50%; 
  background:linear-gradient(180deg, rgba(14,165,233,.12), rgba(14,165,233,.06)); 
  display:grid; 
  place-items:center; 
  position:relative; 
  box-shadow:0 0 0 6px var(--ring);
}
.icon-wrap svg{width:36px; height:36px; fill:#fff}
.badge{
  position:absolute; 
  inset: -10px auto auto -10px; 
  width:12px; 
  height:12px; 
  border-radius:50%; 
  background:#0ea5e9; 
  filter:blur(6px); 
  opacity:.65; 
  animation:pulse 2.4s ease-in-out infinite
}
@keyframes pulse{0%,100%{transform:scale(1); opacity:.5}50%{transform:scale(1.35); opacity:.9}}
h1{font-size:28px; line-height:1.2; margin:12px 0 6px 0; text-align:center}
.sub{color:var(--muted); text-align:center; margin:0 0 20px 0; font-size:16px}
.copy{color:var(--muted); font-size:14px; margin:8px auto 0 auto; max-width:52ch}
.actions{display:flex; flex-wrap:wrap; gap:12px; justify-content:center; margin-top:24px}
.btn{
  display:inline-flex; 
  align-items:center; 
  justify-content:center; 
  text-decoration:none; 
  padding:12px 20px; 
  min-height:48px; 
  border-radius:10px; 
  font-weight:600; 
  letter-spacing:.2px;
  transition:transform .06s ease, box-shadow .2s ease, background .2s ease, color .2s ease; 
  outline: none;
}
.btn-primary{background:#1e293b; color:#fff; box-shadow:0 6px 20px rgba(30,41,59,.28)}
.btn-primary:hover{transform:translateY(-1px)}
.btn-primary:focus-visible{box-shadow:0 0 0 4px var(--ring)}
.btn-secondary{background:#e2e8f0; color:#1e293b; font-weight:600}
.btn-secondary:hover{background:#cbd5e1}
.footer{margin-top:18px; text-align:center; font-size:12px; color:var(--muted)}
.wrap{position:relative}

/* Poll Results Styles */
.poll-results{margin:24px 0;}
.poll-item{margin-bottom:16px;}
.poll-label{
  display:flex; 
  justify-content:space-between; 
  align-items:baseline; 
  margin-bottom:6px; 
  font-size:14px;
  font-weight:600;
}
.poll-bar-container{
  background:#e2e8f0; 
  border-radius:8px; 
  height:36px; 
  overflow:hidden; 
  position:relative;
}
.poll-bar{
  background:linear-gradient(90deg, #0ea5e9, #06b6d4); 
  height:100%; 
  transition:width 0.8s ease-out;
  display:flex;
  align-items:center;
  padding:0 12px;
  color:#fff;
  font-weight:700;
  font-size:13px;
}
.poll-bar.selected{
  background:linear-gradient(90deg, #10b981, #059669);
  box-shadow:0 0 0 2px #10b981;
}
.poll-count{color:var(--muted); font-size:13px; font-weight:400;}
.highlight{
  background:#fef3c7; 
  padding:2px 6px; 
  border-radius:4px; 
  color:#92400e;
  font-weight:700;
}
</style>
</head>
<body>
  <main class="container" role="main" aria-label="Poll results">
    <div class="card wrap">
      <div class="header" aria-hidden="true">
        <div class="icon-wrap" role="img" aria-label="Thank you">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="12" cy="12" r="12" fill="#0ea5e9"/>
            <path d="M10.0 14.8l-2.2-2.2a1.1 1.1 0 10-1.6 1.6l3 3a1.1 1.1 0 001.6 0l6.8-6.8a1.1 1.1 0 10-1.6-1.6l-6 6z" fill="#fff"/>
          </svg>
          <span class="badge" aria-hidden="true"></span>
        </div>
      </div>
      
      <h1>Thanks for voting!</h1>
      <p class="sub" id="personalMessage">Your answer has been recorded</p>
      
      <!-- Poll Results -->
      <div class="poll-results" id="pollResults">
        <h2 style="font-size:18px; margin:0 0 16px 0; text-align:center; color:var(--muted);">See how others answered:</h2>
        
        <div class="poll-item">
          <div class="poll-label">
            <span id="label1">TSP Optimization</span>
            <span class="poll-count" id="count1">142 votes</span>
          </div>
          <div class="poll-bar-container">
            <div class="poll-bar" id="bar1" style="width:0%">
              <span id="percent1">45%</span>
            </div>
          </div>
        </div>
        
        <div class="poll-item">
          <div class="poll-label">
            <span id="label2">VA Loan Strategy</span>
            <span class="poll-count" id="count2">98 votes</span>
          </div>
          <div class="poll-bar-container">
            <div class="poll-bar" id="bar2" style="width:0%">
              <span id="percent2">31%</span>
            </div>
          </div>
        </div>
        
        <div class="poll-item">
          <div class="poll-label">
            <span id="label3">BRS vs High-3</span>
            <span class="poll-count" id="count3">76 votes</span>
          </div>
          <div class="poll-bar-container">
            <div class="poll-bar" id="bar3" style="width:0%">
              <span id="percent3">24%</span>
            </div>
          </div>
        </div>
      </div>
      
      <p class="copy" id="resourceMessage">Garrison Ledger has the tools and resources you need to master this topic.</p>
      
      <div class="actions">
        <a class="btn btn-primary" id="exploreCTA" href="https://garrisonledger.com/dashboard?utm_source=familymedia&utm_medium=poll&utm_campaign=202511_Newsletter" aria-label="Explore this topic on Garrison Ledger">Explore This Topic â†’</a>
        <a class="btn btn-secondary" href="https://familymedia.com?utm_source=poll&utm_medium=landing&utm_campaign=202511" aria-label="Return to FamilyMedia">Back to FamilyMedia</a>
      </div>
      
      <div class="footer">You can close this page anytime.</div>
    </div>
  </main>

  <script>
    // Poll data
    const pollData = {
      tsp: { 
        label: 'TSP Optimization', 
        count: 142, 
        url: 'https://garrisonledger.com/dashboard/tools/tsp-modeler?utm_source=familymedia&utm_medium=poll&utm_campaign=202511_tsp',
        message: 'Great choice! Optimizing your TSP can add hundreds of thousands to your retirement.',
        resource: 'Our TSP Modeler shows you exactly how different strategies impact your retirement balance.'
      },
      housing: { 
        label: 'VA Loan Strategy', 
        count: 98, 
        url: 'https://garrisonledger.com/dashboard/tools/house-hacking?utm_source=familymedia&utm_medium=poll&utm_campaign=202511_housing',
        message: 'Smart thinking! Housing decisions are one of the biggest wealth builders for military families.',
        resource: 'Our House Hacking Calculator helps you run the numbers on any housing scenario.'
      },
      retirement: { 
        label: 'BRS vs High-3', 
        count: 76, 
        url: 'https://garrisonledger.com/dashboard/ask?utm_source=familymedia&utm_medium=poll&utm_campaign=202511_retirement',
        message: 'This is a critical decision! Understanding the difference can change your entire retirement strategy.',
        resource: 'Ask Military Expert can break down BRS vs High-3 for your specific career timeline.'
      }
    };

    // Get URL parameter
    function getUrlParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // Calculate percentages
    function calculatePercentages() {
      const total = pollData.tsp.count + pollData.housing.count + pollData.retirement.count;
      return {
        tsp: Math.round((pollData.tsp.count / total) * 100),
        housing: Math.round((pollData.housing.count / total) * 100),
        retirement: Math.round((pollData.retirement.count / total) * 100)
      };
    }

    // Initialize page
    function init() {
      const answer = getUrlParameter('answer');
      const percentages = calculatePercentages();
      
      // Update labels and counts
      document.getElementById('label1').textContent = pollData.tsp.label;
      document.getElementById('count1').textContent = pollData.tsp.count + ' votes';
      document.getElementById('percent1').textContent = percentages.tsp + '%';
      
      document.getElementById('label2').textContent = pollData.housing.label;
      document.getElementById('count2').textContent = pollData.housing.count + ' votes';
      document.getElementById('percent2').textContent = percentages.housing + '%';
      
      document.getElementById('label3').textContent = pollData.retirement.label;
      document.getElementById('count3').textContent = pollData.retirement.count + ' votes';
      document.getElementById('percent3').textContent = percentages.retirement + '%';
      
      // Animate bars
      setTimeout(function() {
        document.getElementById('bar1').style.width = percentages.tsp + '%';
        document.getElementById('bar2').style.width = percentages.housing + '%';
        document.getElementById('bar3').style.width = percentages.retirement + '%';
      }, 100);
      
      // Personalize based on answer
      if (answer && pollData[answer]) {
        const data = pollData[answer];
        document.getElementById('personalMessage').textContent = data.message;
        document.getElementById('resourceMessage').textContent = data.resource;
        document.getElementById('exploreCTA').href = data.url;
        
        // Highlight selected answer
        if (answer === 'tsp') {
          document.getElementById('bar1').classList.add('selected');
        } else if (answer === 'housing') {
          document.getElementById('bar2').classList.add('selected');
        } else if (answer === 'retirement') {
          document.getElementById('bar3').classList.add('selected');
        }
      }
    }

    // Run on load
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>
